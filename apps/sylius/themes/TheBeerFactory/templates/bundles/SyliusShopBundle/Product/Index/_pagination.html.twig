{% set paginationLimits = (resources.definition.limits) %}

<div class="flex-item-none ml-sm sm:ml-n">
    <div class="dropdown dropdown--overflow">
        <button
            class="dropdown__control"
            type="button"
            aria-expanded="false"
            aria-controls="#pagination-limits-list"
            data-component="dropdown"
            data-target="#pagination-limits-list"
            data-stop-propagation="true"
        >
            {{ 'sylius.ui.show'|trans }} {{ resources.data.maxPerPage }}
        </button>
        <div class="dropdown__list sylius-paginate" id="pagination-limits-list">
            {% for limit in paginationLimits|filter(limit => limit != resources.data.maxPerPage) %}
                {% set path = path(app.request.attributes.get('_route'), app.request.attributes.get('_route_params')|merge(app.request.query.all)|merge({'limit': limit})) %}
                <a class="dropdown__item" href="{{ path }}">
                    {{ limit }}
                </a>
            {% endfor %}
        </div>
    </div>
</div>
